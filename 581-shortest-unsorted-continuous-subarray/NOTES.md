The optimized solution is to think it in this way:
â€‹
We first calculate the last index where the element is lesser that the max element we calculated while traversing from the left of the array.
This index is our end index.
In a similar way we calculate the first index where the element is greater than the min element we calculated while traversing from the right of the array.
This is our left index.